# 1.定义：
使用C语言编写的，基于内存可持久化的高性能键值存储数据库


# 2.提供数据结构：
9大类

`基本数据结构：SSSLH`

String              字符串      最基本的数据结构，可存储任意二进制数据，用于缓存、计数器等。
Set                 集合       无序不重复字符串集合，可进行集合运算，用于标签系统等。
Sorted Set          排序集合    元素关联分数并按分数排序，用于排行榜等。
List                列表       有序字符串列表，可作栈或队列，用于消息队列等。
Hash                哈希表      存储键值对集合，适合存储对象信息。类似Java里面的Map<String,Object>。

`高级数据结构：BHGS`
Bitmap              位图     (本质是字符串)高效位运算，用于统计用户状态等。
HyperLogLog         统计基数  (本质是字符串)统计基数，内存占用小，用于统计独立访客数量等。 
GEO                 地理位置坐标  (本质是字符串)存储地理位置信息，进行距离计算和范围查询等。 
Stream              流   (一种更复杂的数据结构)用于消息队列等场景，支持消费者组、消息确认等。

---


# 2.特点：
## 事务处理

在 Redis 中，事务处理是指将多个命令打包成一个原子性操作的过程，要么全部执行成功，要么全部不执行。

Redis 事务具有以下特点：

**1. 命令入队**：
- 使用`MULTI`命令开启一个事务，之后输入的命令会被放入一个事务队列中，而不是立即执行。

**2. 执行事务**：
- 通过`EXEC`命令来执行事务队列中的所有命令。如果在事务执行过程中没有出现错误，所有命令都会被依次执行，保证了事务的原子性。

**3. 事务失败情况**：
- 如果在事务队列中，有一个命令执行出错，那么整个事务都会被取消，所有命令都不会被执行。这里的错误指的是在执行命令过程中出现的错误，而不是语法错误（语法错误会导致`MULTI`开启事务失败）。

**4. 事务的隔离性**：
- Redis 事务在执行过程中不会被其他客户端的命令打断，但是 Redis 的事务不具有严格的隔离级别，只是一种“伪事务”。

**5. 放弃事务**：
- 可以使用`DISCARD`命令放弃一个事务，清空事务队列，不执行任何命令。

---
## 单线程架构
`(命令单线程、请求多线程)`

Redis的单线程架构指的是`它的核心数据操作是由一个单一的线程来执行的`。这种设计带来了简单性和效率，因为·`避免了多线程上下文切换的开销，并简化了并发控制`，
因为不需要考虑数据在多个线程间的同步问题。`尽管Redis处理命令的主循环是单线程的，它还是能利用IO多路复用技术来同时处理多个客户端的请求·`。
此外，对于某些耗时操作，·`如持久化和部分网络IO处理，Redis会使用后台线程来避免阻塞主线程`，确保了服务的响应性。
单线程架构使得Redis可以高效地处理大量的请求，`同时保持操作的原子性和一致性`。


---
## 两种持久化机制

**1.RDB**
通过`创建数据集的时间点快照`来实现持久化。这是`通过周期性地执行一个称为“BGSAVE”的操作来完成的`，它会产生一个`包含了Redis在某一时刻所有数据的二进制文件。`
RDB文件是一个`压缩的二进制文件`，可以用来`在需要的时候，快速恢复整个数据集`。它适合于`数据备份和灾难恢复`. 

**2.AOF**
记录`每一个写操作命令到一个日志文件中，命令以追加的方式保存`。AOF文件以纯文本格式存储，提供了更好的数据安全性，`因为它可以配置为每次写操作后同步到磁盘，
或者每秒同步一次`。在Redis重启时，AOF文件中的命令会被重新执行，以重建内存中的数据状态。
`通过AOF恢复数据通常比RDB更慢，但可以更频繁地记录数据状态，减少数据丢失的可能性。`

---



